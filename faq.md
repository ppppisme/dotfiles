# Gamepad configuration

## xpadneo

install `xpadneo-dkms-git`

[xbox one s gamepad driver](https://github.com/atar-axis/xpadneo/)

## bluetooth

install `bluez` and `bluez-utils` packages and:

```
sudo systemctl start bluetooth.service
bluetoothctl
power on
scan on
pair __MAC__
trust __MAC__
connect __MAC__
```

[reference](https://wiki.archlinux.org/index.php/Gamepad#Connect_Xbox_Wireless_Controller_with_Bluetooth)

```
echo 1 > /sys/module/bluetooth/parameters/disable_ertm
```

or configure to boot loader to load kernel with this parameter

```
bluetooth.disable_ertm=1
```


## mappings

[reference](https://wiki.archlinux.org/index.php/Gamepad#Joystick_not_working_in_FNA/SDL_based_games)

install `controllermap` and then add code generated by it to
`SDL_GAMECONTROLLERCONFIG` environment variable


# Do not minimize SDL based application on focus loss

`export SDL_VIDEO_MINIMIZE_ON_FOCUS_LOSS=0`

# On "parted" fuck ups

it's possible to recover disk partition table using "testdisk" utility

# Ardoud -- memory limit

`sudo -e /etc/security/limits.conf`

add

`@audio - memlock unlimited`

and then add user to audio group

# ext4 SSD optimization

run

`sudo systemctl enable fstrim.timer && sudo systemctl start fstrim.timer`
