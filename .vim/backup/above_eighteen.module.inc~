<?php

/**
 * @file
 * File with module settings for admininistrator.
 */

/**
 * Create administrator interface for module settings.
 */
function above_eighteen_admin_settings() {
  $form = array();

  $age_options = array(
    '16' => 16,
    '18' => 18,
    '21' => 21,
  );

  $form['above_eighteen_minimum_age'] = array(
    '#type' => 'select',
    '#options' => $age_options,
    '#title' => t("Select minimum user's age"),
    '#default_value' => variable_get('above_eighteen_minimum_age', 18),
    '#description' => t('Minimum age of users for this site.'),
    '#required' => TRUE,
  );

  $default_error_msg = t('You are below minimum age for this site, so you are not allowed to register here.');
  $error_msg = variable_get('above_eighteen_error_message', $default_error_msg);

  $form['above_eighteen_error_message'] = array(
    '#type' => 'textarea',
    '#title' => t('Error message'),
    '#default_value' => $error_msg,
    '#required' => TRUE,
  );

  return system_settings_form($form);
}
